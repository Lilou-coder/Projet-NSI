{% extends "layout.html" %}

{% block title %}
    Results
{% endblock %}

{% block javascript %}
<script>
    function refresh() {
        $.ajax({
            url:location.href,
            type:'GET',
            success: function(data){
                $('#result').html($(data).find('#result').html());
            }
        });
    }

    window.onload = setInterval("refresh();",2000);;
    
</script>
{% endblock %}

{% block main %}

    <h2 class="white_question" > Scores </h2>
        
    <table id="result" class="table tablestriped">
        {% for user in usernames %}
        <tr>
            <td class="text-start; white_question">{{ user["username"] }} a {{ user["score"] }} r√©ponses justes!</td>
            <td class="text-start; white_question">{{ user["username"] }} {{ user["progress"] }}</td>
        </tr>
        {% endfor %}
    </table>
        
    <table class="center">
        <tr>
            <td>
                <button class="button"><a class="nav-link" href="http://127.0.0.1:5000/games/{{ gamecode }}/correction">Correction</a></button>
                <button class="button"><a class="nav-link" href="http://127.0.0.1:5000/">Jouer</a></button>
            </td>
        </tr>
    </table>

    
{% endblock %}